# ============================================
# APPLICATION SETTINGS
# ============================================
APP_NAME=Japanese OCR RAG System
APP_VERSION=1.0.0
DEBUG=false
ENVIRONMENT=development

# ============================================
# SECURITY
# ============================================
# Generate with: openssl rand -hex 32
SECRET_KEY=your-secret-key-here-generate-with-openssl-rand-hex-32
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=15
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================
# DATABASE (PostgreSQL)
# ============================================
POSTGRES_HOST=postgres
POSTGRES_PORT=5432
POSTGRES_USER=raguser
POSTGRES_PASSWORD=rag_password
POSTGRES_DB=rag_metadata

# ============================================
# VECTOR DATABASE (Milvus)
# ============================================
MILVUS_HOST=milvus
MILVUS_PORT=19530
MILVUS_COLLECTION=document_chunks

# ============================================
# OBJECT STORAGE (MinIO)
# ============================================
MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin
MINIO_USE_SSL=false

# ============================================
# CACHE (Redis)
# ============================================
REDIS_HOST=redis
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# ============================================
# TASK QUEUE (Celery)
# ============================================
CELERY_BROKER_URL=redis://redis:6379/1
CELERY_RESULT_BACKEND=redis://redis:6379/2

# ============================================
# LLM (Ollama)
# ============================================
OLLAMA_HOST=ollama:11434
OLLAMA_MODEL=qwen2.5:14b-instruct-q4_K_M
OLLAMA_NUM_CTX=32768
OLLAMA_TEMPERATURE=0.1

# ============================================
# OCR SETTINGS
# ============================================
OCR_ENGINE=yomitoku
OCR_CONFIDENCE_THRESHOLD=0.85
OCR_FALLBACK_THRESHOLD=0.80

# ============================================
# EMBEDDING SETTINGS
# ============================================
EMBEDDING_MODEL=sbintuitions/sarashina-embedding-v1-1b
EMBEDDING_MODEL_PATH=/app/models/sarashina
EMBEDDING_DEVICE=cuda:0
EMBEDDING_BATCH_SIZE=64
EMBEDDING_DIMENSION=768
EMBEDDING_MAX_LENGTH=512

# ============================================
# RERANKER SETTINGS
# ============================================
RERANKER_MODEL=nvidia/llama-3.2-nv-rerankqa-1b-v2
RERANKER_DEVICE=cuda:0
RERANKER_TOP_K_INPUT=20
RERANKER_TOP_K_OUTPUT=5
RERANKER_THRESHOLD=0.65

# ============================================
# CHUNKING SETTINGS
# ============================================
CHUNK_SIZE=512
CHUNK_OVERLAP=50
CHUNK_MAX_TABLE_SIZE=2048

# ============================================
# SEARCH SETTINGS
# ============================================
SEARCH_TOP_K=20
SEARCH_NPROBE=128
HYBRID_SEARCH_VECTOR_WEIGHT=0.7
HYBRID_SEARCH_KEYWORD_WEIGHT=0.3

# ============================================
# RATE LIMITING
# ============================================
RATE_LIMIT_PER_MINUTE=60
RATE_LIMIT_UPLOAD_PER_MINUTE=10

# ============================================
# FILE UPLOAD
# ============================================
MAX_UPLOAD_SIZE_MB=50
ALLOWED_CONTENT_TYPES=application/pdf

# ============================================
# MONITORING
# ============================================
ENABLE_METRICS=true
PROMETHEUS_PORT=9100
ENABLE_TRACING=false

# ============================================
# LOGGING
# ============================================
LOG_LEVEL=INFO
